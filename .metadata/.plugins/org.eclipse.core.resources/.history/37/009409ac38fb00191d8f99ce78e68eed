package modelos;

import java.util.Date;

import com.db4o.Db4oEmbedded;
import com.db4o.ObjectContainer;
import com.db4o.ObjectSet;

public class C1Profesores {

	private Integer codProf;
	private String nombreApe;
	private String nombreEspe;
	private String fechaNac;
	private String sexo;
	private C1Centros c1Centros;
	
	public C1Profesores() {
		
	}
	
	public C1Profesores(Integer codProf, String nombreApe, String nombreEspe, Date fechaNac, String sexo, C1Centros c1Centros) {
		this.codProf = codProf;
		this.nombreApe = nombreApe;
		this.nombreEspe = nombreEspe;
		this.fechaNac = fechaNac;
		this.sexo = sexo;
		this.c1Centros = c1Centros;
	}

	public Integer getCodProf() {
		return codProf;
	}

	public void setCodProf(Integer codProf) {
		this.codProf = codProf;
	}

	public String getNombreApe() {
		return nombreApe;
	}

	public void setNombreApe(String nombreApe) {
		this.nombreApe = nombreApe;
	}

	public String getNombreEspe() {
		return nombreEspe;
	}

	public void setNombreEspe(String nombreEspe) {
		this.nombreEspe = nombreEspe;
	}

	public Date getFechaNac() {
		return fechaNac;
	}

	public void setFechaNac(Date fechaNac) {
		this.fechaNac = fechaNac;
	}

	public String getSexo() {
		return sexo;
	}

	public void setSexo(String sexo) {
		this.sexo = sexo;
	}

	public C1Centros getC1Centros() {
		return c1Centros;
	}

	public void setC1Centros(C1Centros c1Centros) {
		this.c1Centros = c1Centros;
	}
	
	public void comprobarProfesores(C1Profesores p) {
		ObjectContainer bd=Db4oEmbedded.openFile(Db4oEmbedded.newConfiguration(),"basedatos.db4o");
		ObjectSet res = bd.queryByExample(p);
		if(res.isEmpty()) {
			System.out.println("No existe el elemento");
		}else {
			System.out.println("El elemento existe:"+res.next());
		}
		bd.close();
	}
	
	public void insertarProfesores(C1Profesores p) {
		ObjectContainer bd=Db4oEmbedded.openFile(Db4oEmbedded.newConfiguration(),"basedatos.db4o");
		bd.store(p);
		bd.close();
	}
	
	public void borrarProfesores(C1Profesores p) {
		ObjectContainer bd=Db4oEmbedded.openFile(Db4oEmbedded.newConfiguration(),"basedatos.db4o");
		ObjectSet res = bd.queryByExample(p);
		C1Profesores as = (C1Profesores)res.next();
		bd.delete(as);
		bd.close();
	}
	
	public void actualizarProfesores(Integer cod,String nombreape, String nombreespe, Date fecha, String sexo) {
		ObjectContainer bd=Db4oEmbedded.openFile(Db4oEmbedded.newConfiguration(),"basedatos.dbo4");
		ObjectSet res = bd.queryByExample(new C1Profesores(cod,null,null,null,null, null));
		C1Profesores p =(C1Profesores)res.next();
		p.setCodProf(cod);
		p.setNombreApe(nombreape);
		p.setNombreEspe(nombreespe);
		p.setFechaNac(fecha);
		p.setSexo(sexo);
        bd.store(p);
        bd.close();
	}
}
